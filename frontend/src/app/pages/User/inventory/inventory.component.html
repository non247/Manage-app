<app-sidebar-user></app-sidebar-user>

<div class="layout">

  <div class="main-area">
    <div class="main-content">
      <header class="top-navbar">
        <h1>Inventory</h1>
      </header>

      <!-- Table Container -->
      <div class="table-box">
        <div class="header-row">
          <h1 style="color: #E5386D;">List of Products</h1>

          <p-multiSelect [options]="categoryOptions" [(ngModel)]="selectedCategories" optionLabel="label"
            optionValue="value" placeholder="Select Categories" display="chip" appendTo="body">
          </p-multiSelect>
        </div>

        <!-- ใช้ filteredProducts ✔ -->
        <p-table [value]="filteredProducts" [scrollable]="true" scrollHeight="500px"
          [tableStyle]="{'min-width': '60rem'}">

          <ng-template pTemplate="header">
            <tr>
              <th pSortableColumn="code" style="width:16.66%">
                <div class="flex items-center gap-2">
                  Code
                  <p-sortIcon field="code" />
                </div>
              </th>

              <th pSortableColumn="name" style="width:16.66%">
                <div class="flex items-center gap-2">
                  Name
                  <p-sortIcon field="name" />
                </div>
              </th>

              <th pSortableColumn="category" style="width:16.66%">
                <div class="flex items-center gap-2">
                  Category
                  <p-sortIcon field="category" />
                </div>
              </th>

              <th pSortableColumn="quantity" style="width:16.66%">
                <div class="flex items-center gap-2">
                  Quantity
                  <p-sortIcon field="quantity" />
                </div>
              </th>

              <th pSortableColumn="price" style="width:16.66%">
                <div class="flex items-center gap-2">
                  Price
                  <p-sortIcon field="price" />
                </div>
              </th>

              <th style="width:10%">
                <div class="flex items-center gap-2">Edit</div>
              </th>
            </tr>
          </ng-template>

          <ng-template pTemplate="body" let-product>
            <tr>
              <td>{{ product.code }}</td>
              <td>{{ product.name }}</td>
              <td>{{ product.category }}</td>
              <td>{{ product.quantity }}</td>
              <td>{{ product.price }}</td>
              <td></td>
            </tr>
          </ng-template>
        </p-table>

      </div>
    </div>
  </div>

</div>
