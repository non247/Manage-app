<div class="register-page">
  <div class="register-card card-split">
    <!-- LEFT : IMAGE (อยู่ในกรอบเดียวกับ form) -->
    <div class="card-image">
      <img src="assets/login.jpg" alt="register" />
    </div>

    <!-- RIGHT : FORM -->
    <div class="card-form">
      <h1>สมัครสมาชิก</h1>

      <!-- ✅ Success -->
      <p *ngIf="successMessage" class="success-text">
        {{ successMessage }}
      </p>

      <form (ngSubmit)="register()" #registerForm="ngForm">
        <!-- Username -->
        <div class="password-wrapper">
          <input
            type="text"
            name="username"
            [(ngModel)]="Username"
            required
            placeholder="ชื่อผู้ใช้"
          />
        </div>

        <!-- Password -->
        <div class="password-wrapper">
          <input
            [type]="showPassword ? 'text' : 'password'"
            name="password"
            [(ngModel)]="Password"
            required
            placeholder="ป้อนรหัสผ่าน"
          />
          <i
            class="bi"
            [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"
            (click)="togglePassword()"
          ></i>
        </div>

        <!-- Confirm Password -->
        <div class="password-wrapper">
          <input
            [type]="showConfirmPassword ? 'text' : 'password'"
            name="confirmPassword"
            [(ngModel)]="ConfirmPassword"
            required
            placeholder="ยืนยันรหัสผ่าน"
          />
          <i
            class="bi"
            [ngClass]="showConfirmPassword ? 'bi-eye-slash' : 'bi-eye'"
            (click)="toggleConfirmPassword()"
          ></i>
        </div>

        <div class="error-slot">
          <p *ngIf="errorMessage" class="error-text">
            {{ errorMessage }}
          </p>
        </div>

        <!-- Button -->
        <button type="submit" class="btn-singin">ลงทะเบียน</button>

        <!-- Link Login (ให้เหมือน register-link ของหน้า login) -->
        <div class="register-link">
          มีบัญชีแล้ว ?
          <a [routerLink]="['/login']">เข้าสู่ระบบ</a>
        </div>
      </form>
    </div>
  </div>
</div>
